(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,function(e,t,n){e.exports={login:"Login_login__1nTsG",control:"Login_control__2idNm",invalid:"Login_invalid__1F8KO",actions:"Login_actions__tBL7p"}},,,function(e,t,n){e.exports={search:"Search_search__2g-DT",card:"Search_card__3b_To",button:"Search_button__itWH2",list:"Search_list__NZ45t"}},,function(e,t,n){e.exports={book_card:"App_book_card__3U_9n"}},,function(e,t,n){e.exports={card:"Card_card__3UwSc"}},function(e,t,n){e.exports={button:"Button_button__3gmkI"}},,function(e,t,n){e.exports={home:"Home_home__q2W_g"}},function(e,t,n){e.exports={nav:"Navigation_nav__3ACuO"}},function(e,t,n){e.exports={"main-header":"MainHeader_main-header__30hyV"}},,,,,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(9),i=n.n(o),s=(n(20),n(2)),r=n(8),l=n.n(r),u=n(10),j=n.n(u),d=n(0),b=function(e){return Object(d.jsx)("div",{className:"".concat(j.a.card," ").concat(e.className),children:e.children})},h=n(3),O=n.n(h),p=n(11),g=n.n(p),x=function(e){return Object(d.jsx)("button",{type:e.type||"button",className:"".concat(g.a.button," ").concat(e.className),onClick:e.onClick,disabled:e.disabled,children:e.children})},m=n(12),v=function(e){return Object(d.jsx)(m.GoogleLogin,{clientId:"371079031180-etdo357glr5lgnaooghl2csn3g2i2gus.apps.googleusercontent.com",buttonText:"Sign in",onSuccess:function(t){e.onGoogleSubmit(t.profileObj)},onFailure:function(e){console.log("Login Failed",e)},cookiePolicy:"single_host_origin"})},f=function(e,t){return"USER_INPUT"===t.type?{value:t.val,isValid:t.val.includes("@")}:"INPUT_BLUR"===t.type?{value:e.value,isValid:e.value.includes("@")}:{value:"",isValid:!1}},_=function(e,t){return"USER_INPUT"===t.type?{value:t.val,isValid:t.val.trim().length>6}:"INPUT_BLUR"===t.type?{value:e.value,isValid:e.value.trim().length>6}:{value:"",isValid:!1}},N=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),a=n[0],o=n[1],i=Object(c.useReducer)(f,{value:"",isValid:null}),r=Object(s.a)(i,2),l=r[0],u=r[1],j=Object(c.useReducer)(_,{value:"",isValid:null}),h=Object(s.a)(j,2),p=h[0],g=h[1],m=l.isValid,N=p.isValid;Object(c.useEffect)((function(){var e=setTimeout((function(){console.log("checking"),o(m&&N)}),500);return function(){console.log("clean"),clearTimeout(e)}}),[m,N]);return Object(d.jsxs)(b,{className:O.a.login,children:[Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.onLogin({email:l.value,password:p.value})},children:[Object(d.jsxs)("div",{className:"".concat(O.a.control," ").concat(!1===l.isValid?O.a.invalid:""),children:[Object(d.jsx)("label",{htmlFor:"email",children:"E-Mail"}),Object(d.jsx)("input",{type:"email",id:"email",value:l.value,onChange:function(e){u({type:"USER_INPUT",val:e.target.value})},onBlur:function(){u({type:"INPUT_BLUR"})}})]}),Object(d.jsxs)("div",{className:"".concat(O.a.control," ").concat(!1===p.isValid?O.a.invalid:""),children:[Object(d.jsx)("label",{htmlFor:"password",children:"Password"}),Object(d.jsx)("input",{type:"password",id:"password",value:p.value,onChange:function(e){g({type:"USER_INPUT",val:e.target.value})},onBlur:function(){g({type:"INPUT_BLUR"})}})]}),Object(d.jsx)("div",{className:O.a.actions,children:Object(d.jsx)(x,{type:"submit",className:O.a.btn,disabled:!a,children:"Login"})})]}),Object(d.jsx)("div",{className:O.a.actions,children:Object(d.jsx)(v,{onGoogleSubmit:function(t){e.onLogin(t)}})})]})},L=n(13),S=n.n(L),I=function(e){return Object(d.jsx)(b,{className:S.a.home,children:Object(d.jsx)("h1",{children:"Welcome back!"})})},k=a.a.createContext({isLoggedIn:!1,onLogout:function(){}}),y=n(14),U=n.n(y),w=function(e){var t=Object(c.useContext)(k);return Object(d.jsx)("nav",{className:U.a.nav,children:Object(d.jsxs)("ul",{children:[t.isLoggedIn&&Object(d.jsx)("li",{children:Object(d.jsx)("p",{children:e.user.name||e.user.email})}),t.isLoggedIn&&Object(d.jsx)("li",{children:Object(d.jsx)("p",{href:"/",children:"Admin"})}),t.isLoggedIn&&Object(d.jsx)("li",{children:Object(d.jsx)("button",{onClick:t.onLogout,children:"Logout"})})]})})},T=n(15),V=n.n(T),B=function(e){return Object(d.jsxs)("header",{className:V.a["main-header"],children:[Object(d.jsx)("h1",{children:"BookStore"}),Object(d.jsx)(w,{user:e.user})]})},P=n(5),C=n(4),R=n.n(C),E=n(6),F=n.n(E),q=function(e){var t,n=Object(c.useState)([]),a=Object(s.a)(n,2),o=a[0],i=a[1],r=Object(c.useState)(!1),l=Object(s.a)(r,2),u=l[0],j=l[1],h=Object(c.useState)(""),O=Object(s.a)(h,2),p=O[0],g=O[1],x=function(){var e=Object(P.a)(R.a.mark((function e(t){var n,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(t,"+inauthor:keyes&key=").concat("AIzaSyDIhUMj9N8wb-1fBqKTxnTZ2X6s-cxhtqU"));case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(P.a)(R.a.mark((function e(t){var n,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:n=e.sent,c=n.items,console.log(c),i(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(P.a)(R.a.mark((function e(n){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(n.target.value),j(!0),clearTimeout(t),t=setTimeout((function(){m(n.target.value)}),300);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)(b,{className:F.a.card,children:Object(d.jsxs)("form",{className:F.a.search,children:[Object(d.jsx)("input",{type:"text",placeholder:"Search Books",onInput:v,value:p}),Object(d.jsx)("ul",{className:F.a.list,children:u&&o.map((function(t){return Object(d.jsx)("li",{onClick:function(){!function(t){g(""),j(!1),e.onSelect(t)}(t)},children:Object(d.jsx)("p",{children:t.volumeInfo.title})},"".concat(t.id).concat(Math.random()))}))})]})})};var A=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(""),i=Object(s.a)(o,2),r=i[0],u=i[1],j=Object(c.useState)(""),h=Object(s.a)(j,2),O=h[0],p=h[1];Object(c.useEffect)((function(){"1"===localStorage.getItem("isLoggedIn")&&a(!0)}),[]);var g=function(){localStorage.removeItem("isLoggedIn"),u(""),a(!1)};return Object(d.jsxs)(k.Provider,{value:{isLoggedIn:n,onLogout:g},children:[Object(d.jsx)(B,{user:r}),Object(d.jsxs)("main",{children:[!n&&Object(d.jsx)(N,{onLogin:function(e){u(e),localStorage.setItem("isLoggedIn","1"),a(!0)}}),n&&Object(d.jsx)(I,{onLogout:g}),n&&Object(d.jsx)(q,{onSelect:function(e){var t=e.volumeInfo,n=Object(d.jsx)(b,{children:Object(d.jsxs)("div",{className:l.a.book_card,children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:t.imageLinks.thumbnail})}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:l.a.book_card,children:[Object(d.jsx)("h3",{children:t.title}),Object(d.jsx)("h5",{children:t.subtitle})]}),Object(d.jsx)("h4",{children:t.authors.map((function(e){return Object(d.jsx)("span",{children:e})}))}),Object(d.jsxs)("p",{children:[Object(d.jsxs)("span",{children:[t.publisher,", "]}),Object(d.jsxs)("span",{children:[t.publishedDate,", "]}),t.categories.map((function(e){return Object(d.jsx)("span",{children:e})}))]}),Object(d.jsx)("p",{children:t.description})]})]})});p(n)}}),n&&O]})]})};i.a.render(Object(d.jsx)(A,{}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.a0f04598.chunk.js.map